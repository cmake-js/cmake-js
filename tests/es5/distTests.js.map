{"version":3,"names":[],"mappings":"","sources":["distTests.js"],"sourcesContent":["\"use strict\";\n/* global describe,it */\n\nlet Bluebird = require(\"bluebird\");\nlet fs = Bluebird.promisifyAll(require(\"fs-extra\"));\nlet Dist = require(\"../../\").Dist;\nlet assert = require(\"assert\");\nlet async = Bluebird.coroutine;\n\nlet testDownload = process.env.TEST_DOWNLOAD === \"1\";\n\ndescribe(\"dist\", function () {\n    it(\"should download dist files if needed\", function (done) {\n        this.timeout(60000);\n        async(function*() {\n            let dist = new Dist();\n            console.log(\"Internal path: \" + dist.internalPath);\n            if (testDownload) {\n                yield fs.deleteAsync(dist.internalPath);\n                assert(dist.downloaded === false);\n                yield dist.ensureDownloaded();\n                assert(dist.downloaded);\n            }\n            else {\n                yield dist.ensureDownloaded();\n            }\n        })().nodeify(done);        \n    });\n\n});"],"file":"distTests.js","sourceRoot":"/source/"}